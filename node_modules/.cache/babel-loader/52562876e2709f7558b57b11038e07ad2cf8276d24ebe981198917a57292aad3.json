{"ast":null,"code":"import React,{useEffect,useState}from'react';import\"../styles/displayproperties.css\";import Properties from\"../database/Properties.json\";import{Link,useParams}from'react-router-dom';import checkQuery from'../utils/checkQuery';import email from'../Images/email.png';import heart from'../Images/heart.png';import phone from'../Images/phone.png';import sortingProperties from'../utils/sortingProperties';import deleteCall from'../utils/deleteCall';import formatPrice from'../utils/formatPrice';import AliceCarousel from'react-alice-carousel';import\"react-alice-carousel/lib/alice-carousel.css\";import HomeImg from'../Images/homeImage.jpg';import\"../styles/homeSearch.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function DisplayProperties(){let[filterBy,setFilter]=useState('Highest Price');const regexTimeNumeric=/\\b\\d{1,2}:\\d{2}:\\d{2}\\b|\\bat\\b/;let properties=sortingProperties(Properties,filterBy);let filteredProperties=[];let{query}=useParams();if(query){query=checkQuery(query);properties.forEach(property=>{if(Object.values(property.address).includes(query)){filteredProperties.push(property);};});};const[iconClicked,setIconClicked]=useState(false);const handleIconClick=()=>{setIconClicked(!iconClicked);};const chosenArray=filteredProperties.length===0?Properties.properties:filteredProperties;const totalSearchResult=filteredProperties.length===0?Properties.properties.length:filteredProperties.length;return/*#__PURE__*/_jsxs(_Fragment,{children:[query!=='All'?/*#__PURE__*/_jsx(\"h1\",{children:\"Properties in \".concat(query)}):/*#__PURE__*/_jsx(\"h1\",{children:\"Available Properties\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"filter-list\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"results\",children:\"\".concat(totalSearchResult,\" results\")}),/*#__PURE__*/_jsxs(\"li\",{className:\"sort\",children:[\"Sort:\",/*#__PURE__*/_jsxs(\"select\",{onChange:event=>{setFilter(event.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"Highest Price\",children:\"Highest Price\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Lowest Price\",children:\"Lowest Price\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Newest Listed\",children:\"Newest Listed\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Oldest Listed\",children:\"Oldest Listed\"})]})]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"property-details\",children:chosenArray.map(property=>{let time=property.timeUploaded;time=property.timeUploaded.split(regexTimeNumeric);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"property-card\",children:[/*#__PURE__*/_jsx(Link,{className:\"imagelink\",to:\"/view/\".concat(property.property_id),children:/*#__PURE__*/_jsx(\"li\",{className:\"property-item\",children:/*#__PURE__*/_jsx(\"img\",{className:\"property-img\",src:property.img.thumbnail})},property.property_id)}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-container\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"address\",children:property.address.city}),/*#__PURE__*/_jsx(\"li\",{className:\"price\",children:'£'+formatPrice(property.price)}),/*#__PURE__*/_jsx(\"li\",{className:\"type\",children:property.type})]}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"deletebutton\",children:/*#__PURE__*/_jsx(\"input\",{className:\"delete-btn\",value:\"button for delete\",name:property.id,type:\"button\",onClick:event=>{deleteCall(event.target.name);}})})}),console.log(iconClicked),/*#__PURE__*/_jsx(\"div\",{className:\"icon-container\",children:/*#__PURE__*/_jsx(\"li\",{target:\"_blank\",children:/*#__PURE__*/_jsx(\"img\",{className:\"icon \".concat(iconClicked?'icon-clicked':''),onClick:handleIconClick,id:\"heart\",name:\"Icons\",alt:\"heart\",src:heart,class:\"icon\"})})})]})});})})]});}export default DisplayProperties;","map":{"version":3,"names":["React","useEffect","useState","Properties","Link","useParams","checkQuery","email","heart","phone","sortingProperties","deleteCall","formatPrice","AliceCarousel","HomeImg","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DisplayProperties","filterBy","setFilter","regexTimeNumeric","properties","filteredProperties","query","forEach","property","Object","values","address","includes","push","iconClicked","setIconClicked","handleIconClick","chosenArray","length","totalSearchResult","children","concat","className","onChange","event","target","value","map","time","timeUploaded","split","to","property_id","src","img","thumbnail","city","price","type","name","id","onClick","console","log","alt","class"],"sources":["C:/Users/Admin/IdeaProjects/FrontEnd/src/components/DisplayProperties.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport \"../styles/displayproperties.css\"\r\n\r\nimport Properties from \"../database/Properties.json\";\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport checkQuery from '../utils/checkQuery';\r\n\r\nimport email from '../Images/email.png';\r\nimport heart from '../Images/heart.png';\r\nimport phone from '../Images/phone.png';\r\n\r\nimport sortingProperties from '../utils/sortingProperties';\r\nimport deleteCall from '../utils/deleteCall';\r\nimport formatPrice from '../utils/formatPrice';\r\n\r\nimport AliceCarousel from 'react-alice-carousel';\r\nimport \"react-alice-carousel/lib/alice-carousel.css\"\r\nimport HomeImg from '../Images/homeImage.jpg';\r\nimport \"../styles/homeSearch.css\";\r\n\r\nfunction DisplayProperties() {\r\n\r\n\r\n  let [filterBy, setFilter] = useState('Highest Price');\r\n\r\n  const regexTimeNumeric = /\\b\\d{1,2}:\\d{2}:\\d{2}\\b|\\bat\\b/;\r\n\r\n\r\n  let properties = sortingProperties(Properties, filterBy);\r\n  let filteredProperties = [];\r\n\r\n  let { query } = useParams();\r\n\r\n  if (query) {\r\n    query = checkQuery(query);\r\n    properties.forEach(property => {\r\n      if (Object.values(property.address).includes(query)) {\r\n        filteredProperties.push(property)\r\n      };\r\n    });\r\n  };\r\n  \r\n\r\n  const [iconClicked,setIconClicked] = useState(false);\r\n  const handleIconClick = () => {\r\n    setIconClicked(!iconClicked);\r\n  }\r\n\r\n  const chosenArray = filteredProperties.length === 0 ? Properties.properties : filteredProperties;\r\n  const totalSearchResult = filteredProperties.length === 0 ? Properties.properties.length : filteredProperties.length;\r\n\r\n  return (\r\n    <>\r\n      {query !== 'All' ?\r\n        <h1>{`Properties in ${query}`}</h1>\r\n        : <h1>{`Available Properties`}</h1>\r\n      }\r\n      <ul className='filter-list'>\r\n        <li className='results'>{`${totalSearchResult} results`}</li>\r\n        <li className='sort'>Sort:\r\n          <select onChange={(event) => { setFilter(event.target.value) }}>\r\n            <option value=\"Highest Price\">Highest Price</option>\r\n            <option value=\"Lowest Price\">Lowest Price</option>\r\n            <option value=\"Newest Listed\">Newest Listed</option>\r\n            <option value=\"Oldest Listed\">Oldest Listed</option>\r\n          </select>\r\n        </li>\r\n      </ul>\r\n      <ul className='property-details'>\r\n        {chosenArray.map(property => {\r\n          let time = property.timeUploaded;\r\n          time = property.timeUploaded.split(regexTimeNumeric);\r\n          return (\r\n            <>\r\n              <div className='property-card'>\r\n                \r\n                <Link className='imagelink' to={`/view/${property.property_id}`}>\r\n                  <li key={property.property_id} className='property-item'>{<img className='property-img' src={property.img.thumbnail}></img>}</li>\r\n                  {/* <li className='empty'></li> */}\r\n                  \r\n                </Link>\r\n                {/* <li className='empty'></li> */}\r\n                <div className='text-container'>\r\n                <li className='address'>{property.address.city}</li>\r\n                  <li className='price'>{'£' + formatPrice(property.price)}</li>\r\n                  <li className='type'>{property.type}</li>\r\n                  </div>\r\n                    <li>\r\n                    <div className='deletebutton'>\r\n                      <input className='delete-btn' value=\"button for delete\" name={property.id} type=\"button\" onClick={event => { deleteCall(event.target.name) }} />\r\n                      </div>\r\n                      </li>\r\n                \r\n                 {console.log(iconClicked)}\r\n                  <div className='icon-container'>\r\n                  {/*\r\n                  {iconClicked.map(iconClicked => (*/}\r\n                    <li target=\"_blank\"><img className={`icon ${iconClicked ? 'icon-clicked' : ''}`}onClick={handleIconClick} id=\"heart\" name=\"Icons\" alt=\"heart\" src={heart} class = \"icon\"></img></li>\r\n                  \r\n                  </div>\r\n                  \r\n                \r\n                </div>\r\n            </>\r\n          )\r\n        })}\r\n      </ul></>\r\n\r\n  )\r\n}\r\n\r\nexport default DisplayProperties;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}